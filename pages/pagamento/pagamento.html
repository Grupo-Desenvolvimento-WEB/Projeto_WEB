<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Área de Pagamento</title>
    <link rel="stylesheet" href="pagamento.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="shortcut icon" href="Imagens/logo-final.ico" type="image/x-icon">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</head> 

<body>
    <div class="wrapper">
        <div class="container">
            <div class="part card-details">
                <h1>
                    Detalhes do Cartão
                </h1>
                <!-- Inputs para o cartão -->
                <form action=""  class="form" autocomplete="off">
                    <div class="group card-number">
                        <label for="first">No. Cartão</label><br>
                        <input type="text" id="first" class="card" maxlength="16"
                            placeholder="&#9679;&#9679;&#9679;&#9679;  &#9679;&#9679;&#9679;&#9679;  &#9679;&#9679;&#9679;&#9679;  &#9679;&#9679;&#9679;&#9679;" required>
                        <img id="cardLogo" class="card-logo" src=""  width="60" >
                    </div>
                    <p>Campo Obrigatório </p>
                    <!-- Input para o nome -->
                    <div class="group card-name">
                        <label for="name">Nome no Cartão</label>
                        <input type="text" id="name" class="" maxlength="20" placeholder="Nome Sobrenome"
                            autocomplete="off" required>
                    </div>
                    <!-- Inputs para data de expiração do cartão -->
                    <div class="group card-expiry">
                        <div class="input-item expiry">
                            <label for="expiry">Data de Validade</label>
                            <input type="text" class="month" id="expiry" placeholder="Mês" maxlength="2" minlength="2"
                                autocomplete="off" required>
                            <input type="text" class="year" id="id" placeholder="Ano" maxlength="4" minlength="4"
                                autocomplete="off" required>
                                <span id="error-message" style="color: red; display: none;">Data inválida. Insira um mês e ano válido.</span>
                        </div>
                        <div class="input-item csv">
                            <label for="csv">CVV No.</label><a href="./images/cvv-cartão.png">?</a>
                            <input type="text" class="csv" id="csv" maxlength="3" minlength="3" autocomplete="off"  required>
                        </div>
                    </div>
                    <br><br><br><br>
                    <!-- Input submit -->
                    <div class="grup submit-group">
                        <input type="submit" id="submit-btn" class="submit" value="Continuar Pagamento">
                        <svg xmlns="http://www.w3.org/2000/svg" width="86" height="30" fill="currentColor"
                            class="bi bi-arrow-right" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8" />
                        </svg>
                    </div>

                </form>
            </div>

        </div>
    </div>
    <div></div>

    <script src="pagamento.js"></script>
    <!-- <script src="valicao.js"></script> -->
    <script>
        const form = document.querySelector('.form');

        form.addEventListener('submit', (event) => {
            event.preventDefault(); 
            console.log('Formulário enviado sem recarregar a página!');
        });
        document.getElementById("submit-btn").addEventListener("click", function () {
        
        const monthInput = document.querySelector(".month").value;
        const yearInput = document.querySelector(".year").value;

        const month = parseInt(monthInput, 10);
        const year = parseInt(yearInput, 10);

        const today = new Date();
        const currentMonth = today.getMonth() + 1; // getMonth() retorna 0-11, então adicionamos 1
        const currentYear = today.getFullYear();

        // Validação
        const errorMessage = document.getElementById("error-message");
        if (
            isNaN(month) || isNaN(year) ||
            month < 1 || month > 12 || 
            year < currentYear ||
            (year === currentYear && month < currentMonth)
        ) {
            errorMessage.style.display = "block";
        } else {
            errorMessage.style.display = "none";
        }
    });
    </script>
    
    
</body>

</html>
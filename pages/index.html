<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homepage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="./homepage/style.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Questrial&display=swap');
    </style>
</head>
<body>
    <!-- Header -->
    <header class="p-3 mb-5 border-bottom">
        <div class="container">
            <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 link-body-emphasis text-decoration-none">
                    <img class="imageBrand" src="./homepage/logo.jpg" width="80" height="64">
                </a>

                <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
                    <li><a href="#" class="nav-link px-2 link-secondary">Homepage</a></li>
                    <li><a href="#" class="nav-link px-2 link-body-emphasis">Passagens</a></li>
                    <li><a href="#" class="nav-link px-2 link-body-emphasis">Promoções</a></li>
                </ul>

                <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" role="search">
                    <input type="text" class="form-control" placeholder="Pesquisar" aria-label="Search" id="pesquisa" onkeydown="pesquisar()">
                    
                </form>
                <section class="resultado-pesquisa" id="resultado-pesquisa"></section>
                <div class="dropdown text-end" onclick="adm()">
                    <a href="#" class="d-block link-body-emphasis text-decoration-none dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                        <img src="imagens/irlanda.png   " alt="mdo" width="32" height="32" class="rounded-circle">
                    </a>
                    <ul class="dropdown-menu text-small">
                        <li><a class="dropdown-item" href="#">Perfil</a></li>
                        <li><a class="dropdown-item" href="#">Configurações</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">Deslogar</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="adm" id="adm">
            <button><a href="./acesso_admin/gerenciarpacotes.html">Regenciar Pacotes</a></button>
            <button><a href="./acesso_admin/listausuarios.html">Ver Lista de Usuários</a></button>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <!-- Carousel -->
        <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active" data-bs-interval="5000">
                    <img src="imagens/gramado.png" class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Conheça a europa brasileira</h5>
                        <p>Visite os pontos turíscos da famosa cidade europeia brasileira</p>
                    </div>
                </div>

                <div class="carousel-item" data-bs-interval="5000">
                    <img src="imagens/praia.png" class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Relaxe nas praias do Rio de Janeiro</h5>
                        <p>Explore as praias com águas imperdíveis</p>
                    </div>
                </div>

                <div class="carousel-item" data-bs-interval="2000">
                    <img src="imagens/trem.png" class="d-block w-100" alt="...">
                    <div class="carousel-caption d-none d-md-block">
                        <h5>Experimente andar de trem</h5>
                        <p>Desfrute de várias paisagens e emoções pelo caminho</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Promotions Section -->
        <div class="container my-grid2 mt-4">
            <div class="left">
                <h2>Aproveite nossas promoções!</h2>
            </div>
        </div>
        <div class="container my-grid1 mt-4 card-container">
            <div class="right">
                <!-- Os cards serão gerados dinamicamente -->
            </div>
        </div>
            <div class="left2">
                <h2>Seu próximo destino inesquecível espera por você!</h2>
            </div>
        </div>

        <!-- Why Choose Us Section -->
        <div class="container px-4 py-5 mt-5" id="featured-3">
            <h2 class="pb-2 border-bottom">Por que escolher a gente?</h2>
            <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
                <div class="feature col">
                  <h2>Preço acessível</h2>
                  <p>Aproveite nossas melhores ofertas e promoções, sem pesar no bolso.</p>
                </div>
                <div class="feature col"> 
                  <h2>Pacotes personalizados</h2>
                  <p>Crie a viagem dos seus sonhos com nossos pacotes personalizados e flexíveis.</p>
                </div>
                <div class="feature col">
                  <h2>Atendimento 24/7</h2>
                  <p>Estamos disponíveis a qualquer hora para garantir uma viagem tranquila.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-3 my-4">
    <button onclick="carregarPagina(1)">Pacote 1</button>
      <ul class="nav justify-content-center border-bottom pb-3 mb-3">
        <li class="nav-item"><a href="#" class="nav-link px-2 text-body-secondary">Home</a></li>
        <li class="nav-item"><a href="./acesso_admin/gerenciarpacotes.html" class="nav-link px-2 text-body-secondary">Pacotes</a></li>
        <li class="nav-item"><a href="./acesso_admin/listausuarios.html" class="nav-link px-2 text-body-secondary">FAQs</a></li>
        <li class="nav-item"><a href="./cadastro/index.html" class="nav-link px-2 text-body-secondary">About</a></li>
      </ul>
      <p class="text-center text-body-secondary">© 2024 Company, Inc</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-rbF7/ogpII6KtFAewvErDoTXFYdRUpq1cG5AYpA3KZtZK1p63E15rYMGKzBprLI+" crossorigin="anonymous">

        function carregarPagina(id) {
            location.href = `./mainpage/page.html?id=${id}`;
        }

        document.addEventListener('DOMContentLoaded', () => {
        // Seleciona o container para os cards
        const container = document.querySelector('.right');

        // Limpa o container antes de gerar os cards
        container.innerHTML = '<p>Carregando pacotes...</p>';

        // Faz a requisição para a API
        fetch('http://localhost:3000/api/pacote')
    .then(response => {
        if (!response.ok) {
            throw new Error('Erro na requisição: ' + response.status);
        }
        return response.json();
    })
    .then(pacotes => {
        console.log('Pacotes recebidos:', pacotes); // Adicionado para depuração
        container.innerHTML = ''; // Limpa qualquer mensagem anterior

        if (pacotes.length === 0) {
            container.innerHTML = '<p>Nenhum pacote disponível no momento.</p>';
            return;
        }

        pacotes.forEach(pacote => {
            const card = `
                <div class="card mb-5" style="width: 16rem;">
                    <img src="${pacote.imagem}" class="card-img-top" alt="${pacote.titulo}">
                    <div class="card-body">
                        <h5 class="card-title">${pacote.titulo}</h5>
                        <p class="card-text">${pacote.descricao}</p>
                        <a href="#" class="btn btn-warning" onclick="redirecionarParaDetalhes(${pacote.id_pacote})">Veja os preços</a>
                    </div>
                </div>
            `;
            container.innerHTML += card;
        });
    })
    .catch(error => {
        console.error('Erro ao carregar pacotes:', error);
        container.innerHTML = '<p>Erro ao carregar pacotes. Tente novamente mais tarde.</p>';
    });
    });

    // Função para redirecionar para os detalhes do pacote
    function redirecionarParaDetalhes(id) {
        location.href = `detalhes.html?id=${id}`;
    }

    </script>
</body>
</html>
